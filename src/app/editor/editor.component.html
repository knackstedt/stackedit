<app-toolbar [style.flex]="'0 0 ' + (mode == 'edit' ? 44 : 0) + 'px'"></app-toolbar>

@if (mode == 'view') {
    <svg
        (mousedown)="toggleEditor(); $event.preventDefault()"
        matTooltip="Toggle Editor"
        xmlns="http://www.w3.org/2000/svg"
        height="48"
        width="48"
        viewBox="0 -960 960 960"
        [style.fill]="themeService.value == 'light' ? '#111111' : '#eeeeee'"
        style="padding: 12px; position: absolute; top: 0; right: 14;z-index: 1;"
    >
        <path
            d="m640-360 120-120-42-43-48 48v-125h-60v125l-48-48-42 43 120 120ZM140-160q-24 0-42-18t-18-42v-520q0-24 18-42t42-18h680q24 0 42 18t18 42v520q0 24-18 42t-42 18H140Zm0-60h680v-520H140v520Zm0 0v-520 520Zm79-140h50v-190h53v127h50v-127h60v190h50v-200q0-14-13-27t-27-13H259q-14 0-27 13t-13 27v200Z" />
    </svg>
}

<div
    class="contents"
>
    <ng-scrollbar
        class="editor-container"
        [class.hidden]="mode != 'edit'"
        [class.expand]="showPreview == 'off' || !showPreview"
        [class.show-toc]="showToc && showToc != 'off'"
        style="background-color: var(--editor-background-color); cursor: text"
        (click)="editorSvc.clEditor.focus()"
    >
        <div
            class="editor markdown-highlighting"
            style="width: 100%"
            [class.linenumbers]="showLineNumbers"
        >
            <div class="editor-underlay"></div>
            <div class="editor-inner"></div>
            <div class="editor-overlay-1"></div>
            <div class="editor-overlay-2"></div>
        </div>
    </ng-scrollbar>

    <ng-scrollbar
        class="preview-container"
        [class.hidden]="showPreview == 'off' || !showPreview"
        [class.expand]="mode != 'edit'"
        [class.show-toc]="showToc && showToc != 'off'"
        style="background-color: var(--preview-background-color)"
    >
        <div
            class="preview"
            style="width: 100%"
        >
            <div class="preview__inner"></div>
        </div>
    </ng-scrollbar>

    <!-- TODO: -->
    <ng-scrollbar
        class="toc-container"
        [style.width]="(showToc == 'off' || !showToc)  ? '0px' : '240px'"
    >
        <div
            class="toc"
        >
            <div class="toc__inner"></div>
        </div>
    </ng-scrollbar>
</div>

<!-- <app-statusbar [style.flex]="'0 0 ' + (mode != 'viewonly' ? 22 : 0) + 'px'"></app-statusbar> -->
