::ng-deep :root {
    --primary-color: #0c93e4;
}

::ng-deep .light {
    --editor-background-color: #ffffff;
    --preview-background-color: #f3f3f3;
    --text-color: #121212;
    --text-muted-color: rgba(0, 0, 0, .28);
    --selection-color: var(--primary-color);

    --toolbar-background-color: #c4c4c4;
    --toolbar-icon-color: var(--text-color);
    --toolbar-icon-hover-color: var(--text-color);
    --toolbar-icon-hover-background-color: #fffc;
    --toolbar-table-border-color: #dee2e6;
    --toolbar-table-border-hover-color: var(--primary-color);
    --toolbar-table-background-color: #0000;
    --toolbar-table-background-hover-color: #d7e0ff;

    --md-border-color: #dcdcdc;
    --md-header-border-color: #fff;
    --md-keyword-color: #000;
    --md-blockquote-color: #444;
    --md-blockquote-border-color: rgba(0, 0, 0, .1);
    --md-anchor-color: var(--primary-color);

}

::ng-deep .dark {
    --editor-background-color: #181a1b;
    --preview-background-color: #1f2123;
    --text-color: #efefef;
    --text-muted-color: rgba(255, 255, 255, .28);
    --selection-color: var(--primary-color);

    --toolbar-background-color: #2c2c2c;
    --toolbar-icon-color: var(--text-color);
    --toolbar-icon-hover-color: var(--text-color);
    --toolbar-icon-hover-background-color: #555c;
    --toolbar-table-border-color: #003468;
    --toolbar-table-border-hover-color: var(--primary-color);
    --toolbar-table-background-color: #0000;
    --toolbar-table-background-hover-color: #00f6;

    --md-border-color: #474747;
    --md-header-border-color: #000;
    --md-blockquote-color: #aaa;
    --md-blockquote-border-color: hsla(0, 0%, 100%, .1);
    --md-keyword-color: #fff;
    --md-anchor-color: var(--primary-color);
}

.editor {
    font-family: 'Fira Sans';
    background-color: var(--editor-background-color);
    cursor: text;

    .editor__inner.monospaced {
        font-family: 'Fira Mono', "Droid Sans Mono", "monospace", monospace;
        font-size: .85em !important
    }

    .editor__inner.monospaced * {
        font-size: inherit !important
    }

    ::ng-deep .cledit-section .injection-portal {
        contain: content;
        overflow: auto;

        &>div {
            display: flex;
            flex-direction: column;
        }
        // * {
        //     display: unset;
        // }
        div {
            display: block;
        }
    }

    .prism {
        background-color: #f0f0f0;
    }
    ::ng-deep *::selection {
        background-color: var(--selection-color);
    }
}

.editor__inner, .preview__inner-2 {
    padding: 10px 25px 442px;
}

.preview {
    background-color: var(--preview-background-color);

    .cl-preview-section ::ng-deep {
        min-width: 100%;
        overflow-x: auto;
    }
}

.toolbar {
    display: flex;
    height: 100%;
    align-items: center;
    gap: 4px;
    color: var(--toolbar-icon-color);
    background-color: var(--toolbar-background-color);

    mat-icon {
        cursor: pointer;
        line-height: 24px;
        padding: 6px;
        width: 36px;
        height: 36px;

        // border-radius: 50%;
        transition: background-color 200ms ease;
        position: relative;

        &:hover {
            background-color: var(--toolbar-icon-hover-background-color);
            color: var(--toolbar-icon-hover-color);
        }

        &::after {
            content: "";
            position: absolute;
            bottom: 0;
            height: 2px;
            width: 0px;
            transition: width 200ms ease;
            left: 50%;
            transform: translateX(-50%);
            background: #007acc;
        }

        &.reflect {

            &::after {
                width: 100%;
            }
        }
    }
}

/**
    Tooltip styles
*/
.link-popup,
.photo-popup,
.table-popup {
    background-color: var(--background-color);
    padding: 12px;
    border-radius: 6px;
}

.table-popup {
    .table-row, .table-col {
        display: flex;
        gap: 2px;
    }

    .col-cell {
        width: 16px;
        height: 16px;
        border: 1px solid var(--toolbar-table-border-color);
        background-color: var(--toolbar-table-background-color);
        cursor: pointer;

        transition: background-color 200ms ease, border-color 200ms ease;
        &.selected {
            background-color: var(--toolbar-table-background-hover-color);
            border-color: var(--toolbar-table-border-hover-color);
        }
    }
}

.link-popup,
.photo-popup {

    .simple-input {
        position: relative;
    }

    .simple-input input {
        width: 100%;
        padding: 10px 0;
        font-size: 16px;
        color: var(--text-color);
        margin-bottom: 30px;
        border: none;
        border-bottom: 1px solid var(--text-color);
        outline: none;
        background: transparent;
    }

    .simple-input label {
        position: absolute;
        top: 0;
        left: 0;
        padding: 10px 0;
        font-size: 16px;
        color: var(--text-color);
        pointer-events: none;
        transition: .5s;
    }

    .simple-input input:focus~label,
    .simple-input input:valid~label {
        top: -20px;
        left: 0;
        color: var(--primary-color);
        font-size: 12px;
    }
}

::ng-deep {
    .icon-provider {
        width: 100%;
        height: 100%;
        background-position: 50%;
        background-repeat: no-repeat;
        background-size: contain
    }

    .prism .token.cdata,
    .prism .token.comment,
    .prism .token.doctype,
    .prism .token.prolog,
    .token.pre.gfm .token.cdata,
    .token.pre.gfm .token.comment,
    .token.pre.gfm .token.doctype,
    .token.pre.gfm .token.prolog {
        color: #6a9955
    }

    .prism .token.punctuation,
    .token.pre.gfm .token.punctuation {
        color: #999
    }

    .prism .namespace,
    .token.pre.gfm .namespace {
        opacity: .7
    }

    .prism .token.boolean,
    .prism .token.constant,
    .prism .token.deleted,
    .prism .token.number,
    .prism .token.property,
    .prism .token.symbol,
    .prism .token.tag,
    .token.pre.gfm .token.boolean,
    .token.pre.gfm .token.constant,
    .token.pre.gfm .token.deleted,
    .token.pre.gfm .token.number,
    .token.pre.gfm .token.property,
    .token.pre.gfm .token.symbol,
    .token.pre.gfm .token.tag {
        color: #905
    }

    .prism .token.attr-name,
    .prism .token.builtin,
    .prism .token.char,
    .prism .token.inserted,
    .prism .token.selector,
    .prism .token.string,
    .token.pre.gfm .token.attr-name,
    .token.pre.gfm .token.builtin,
    .token.pre.gfm .token.char,
    .token.pre.gfm .token.inserted,
    .token.pre.gfm .token.selector,
    .token.pre.gfm .token.string {
        color: #690
    }

    .prism .language-css .token.string,
    .prism .style .token.string,
    .prism .token.entity,
    .prism .token.operator,
    .token.pre.gfm .language-css .token.string,
    .token.pre.gfm .style .token.string,
    .token.pre.gfm .token.entity,
    .token.pre.gfm .token.operator  {
        color: #a67f59
    }

    .prism .token.url,
    .token.pre.gfm .token.url {
        color: #40a6ff
    }

    .prism .token.atrule,
    .prism .token.attr-value,
    .prism .token.keyword,
    .token.pre.gfm .token.atrule,
    .token.pre.gfm .token.attr-value,
    .token.pre.gfm .token.keyword {
        color: #07a
    }

    .prism .token.function,
    .token.pre.gfm .token.function {
        color: #dd4a68
    }

    .prism .token.important,
    .prism .token.regex,
    .prism .token.variable,
    .token.pre.gfm .token.important,
    .token.pre.gfm .token.regex,
    .token.pre.gfm .token.variable {
        color: #e90
    }

    .prism .token.bold,
    .prism .token.important,
    .token.pre.gfm .token.bold,
    .token.pre.gfm .token.important {
        font-weight: 500
    }

    .prism .token.italic,
    .token.pre.gfm .token.italic {
        font-style: italic
    }

    article,
    aside,
    footer,
    header,
    nav,
    section {
        display: block
    }

    h1 {
        font-size: 2em;
        margin: .67em 0
    }

    figcaption,
    figure {
        display: block
    }

    figure {
        margin: 1em 40px
    }

    hr {
        box-sizing: content-box;
        height: 0;
        overflow: visible
    }

    abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        text-decoration: underline dotted
    }

    b,
    strong {
        font-weight: inherit;
        font-weight: bolder
    }

    code,
    kbd,
    samp {
        font-family: 'Fira Mono', "Droid Sans Mono", "monospace", monospace;
        font-size: 1em
    }

    img {
        border-style: none
    }

    blockquote,
    dl,
    ol,
    p,
    pre,
    ul {
        margin: 1.2em 0
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        margin: 1.8em 0;
        line-height: 1.33
    }

    h1:after,
    h2:after {
        content: "";
        display: block;
        position: relative;
        top: .33em;
        border-bottom: 1px solid hsla(0, 0%, 50%, .33)
    }

    ol ol,
    ol ul,
    ul ol,
    ul ul {
        margin: 0
    }

    dt {
        font-weight: 700
    }

    a {
        color: var(--md-anchor-color);
        text-decoration: underline;
        text-decoration-skip: ink
    }

    a:focus,
    a:hover {
        text-decoration: none
    }

    code,
    pre,
    samp {
        font-family: 'Fira Mono', "Droid Sans Mono", "monospace", monospace;
        font-size: .85em
    }

    code *,
    pre *,
    samp * {
        font-size: inherit
    }

    blockquote {
        color: var(--md-blockquote-color);
        padding-left: 1.5em;
        border-left: 5px solid var(--md-blockquote-border-color)
    }

    code {
        background-color: rgba(0, 0, 0, .05);
        border-radius: 3px;
        padding: 2px 4px
    }

    hr {
        border: 0;
        border-top: 1px solid hsla(0, 0%, 50%, .33);
        margin: 2em 0
    }

    pre>code {
        background-color: rgba(0, 0, 0, .05);
        display: block;
        padding: .5em;
        -webkit-text-size-adjust: none;
        overflow-x: auto;
        white-space: pre
    }

    .toc ul {
        list-style-type: none;
        padding-left: 20px
    }

    table {
        background-color: transparent;
        border-collapse: collapse;
        border-spacing: 0
    }

    td,
    th {
        // border-right: 1px solid var(--md-border-color);
        padding: 8px 12px
    }

    td:last-child,
    th:last-child {
        border-right: 0
    }

    td {
        border-top: 1px solid var(--md-border-color);
    }
    tr:first-of-type td {
        border-top: 1px solid var(--md-header-border-color);
    }

    mark {
        background-color: #f8f840
    }

    kbd {
        font-family: Lato, Helvetica Neue, Helvetica, sans-serif;
        background-color: #fff;
        border: 1px solid rgba(63, 63, 63, .25);
        border-radius: 3px;
        box-shadow: 0 1px 0 rgba(63, 63, 63, .25);
        color: #333;
        display: inline-block;
        font-size: .8em;
        margin: 0 .1em;
        padding: .1em .6em;
        white-space: nowrap
    }

    abbr[title] {
        border-bottom: 1px dotted #777;
        cursor: help
    }

    img {
        max-width: 100%
    }

    .task-list-item {
        list-style-type: none
    }

    .task-list-item-checkbox {
        margin: 0 .2em 0 -1.3em
    }

    .footnote {
        font-size: .8em;
        position: relative;
        top: -.25em;
        vertical-align: top
    }

    .page-break-after {
        page-break-after: always
    }

    .abc-notation-block {
        overflow-x: auto !important
    }

    .stackedit__html {
        margin-bottom: 180px;
        margin-left: auto;
        margin-right: auto;
        padding-left: 30px;
        padding-right: 30px;
        max-width: 750px
    }

    .stackedit__toc ul {
        padding: 0
    }

    .stackedit__toc ul a {
        margin: .5rem 0;
        padding: .5rem 1rem
    }

    .stackedit__toc ul ul {
        color: #888;
        font-size: .9em
    }

    .stackedit__toc ul ul a {
        margin: 0;
        padding: .1rem 1rem
    }

    .stackedit__toc li {
        display: block
    }

    .stackedit__toc a {
        display: block;
        color: inherit;
        text-decoration: none
    }

    .stackedit__toc a:active,
    .stackedit__toc a:focus,
    .stackedit__toc a:hover {
        background-color: rgba(0, 0, 0, .075);
        border-radius: 3px
    }

    .stackedit__left {
        position: fixed;
        display: none;
        width: 250px;
        height: 100%;
        top: 0;
        left: 0;
        overflow-x: hidden;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
        -ms-overflow-style: none
    }

    @media (min-width: 1060px) {
        .stackedit__left {
            display: block
        }
    }

    .stackedit__right {
        position: absolute;
        right: 0;
        top: 0;
        left: 0
    }

    @media (min-width: 1060px) {
        .stackedit__right {
            left: 250px
        }
    }

    .markdown-highlighting {
        color: var(--text-color);
        caret-color: var(--text-color);
        font-family: inherit;
        font-size: inherit;
        -webkit-font-smoothing: auto;
        -moz-osx-font-smoothing: auto;
        font-weight: 400
    }

    .markdown-highlighting .code {
        font-family: 'Fira Mono', "Droid Sans Mono", "monospace", monospace;
        font-size: .85em
    }

    .markdown-highlighting .code * {
        font-size: inherit !important
    }

    .markdown-highlighting .pre {
        color: rgba(0, 0, 0, .8);
        font-family: 'Fira Mono', "Droid Sans Mono", "monospace", monospace;
        font-size: .85em
    }

    // .app--dark .markdown-highlighting .pre {
    //     color: hsla(0, 0%, 100%, .8)
    // }

    // .markdown-highlighting .pre [class*=language-] {
    //     color: #000
    // }

    // .app--dark .markdown-highlighting .pre [class*=language-] {
    //     color: #fff
    // }

    .markdown-highlighting .pre * {
        font-size: inherit !important
    }

    .markdown-highlighting .pre,
    .markdown-highlighting .pre * {
        line-height: 1.33
    }

    .markdown-highlighting .tag {
        color: var(--text-color);
        font-family: 'Fira Mono', "Droid Sans Mono", "monospace", monospace;
        font-size: .85em;
        font-weight: 600
    }

    .markdown-highlighting .tag .attr-name,
    .markdown-highlighting .tag .attr-value,
    .markdown-highlighting .tag .punctuation {
        font-weight: 400
    }

    .markdown-highlighting .tag * {
        font-size: inherit !important
    }

    .markdown-highlighting .entity {
        color: var(--text-color);
        font-family: 'Fira Mono', "Droid Sans Mono", "monospace", monospace;
        font-size: .85em;
        font-style: italic
    }

    .markdown-highlighting .entity * {
        font-size: inherit !important
    }

    .markdown-highlighting .table {
        font-family: 'Fira Mono', "Droid Sans Mono", "monospace", monospace;
        font-size: .85em
    }

    .markdown-highlighting .table * {
        font-size: inherit !important
    }

    .markdown-highlighting .comment {
        color: var(--text-muted-color);
    }

    .markdown-highlighting .keyword {
        color: var(--md-keyword-color);
        font-weight: 600
    }

    .markdown-highlighting .img-wrapper {
        display: inline-block
    }

    .markdown-highlighting .img-wrapper .img {
        display: inline-block;
        padding: 0;
        background-color: transparent
    }

    .markdown-highlighting .img-wrapper img {
        max-width: 100%;
        padding: 0 .15em;
        box-sizing: content-box
    }

    .markdown-highlighting .cl-toc {
        font-size: 2.8em;
        padding: .15em
    }

    .markdown-highlighting .blockquote {
        color: var(--md-blockquote-color)
    }

    .markdown-highlighting .h1,
    .markdown-highlighting .h2,
    .markdown-highlighting .h3,
    .markdown-highlighting .h4,
    .markdown-highlighting .h5,
    .markdown-highlighting .h6,
    .markdown-highlighting .h11,
    .markdown-highlighting .h22 {
        font-weight: 600
    }

    .markdown-highlighting .h1,
    .markdown-highlighting .h1 *,
    .markdown-highlighting .h2,
    .markdown-highlighting .h2 *,
    .markdown-highlighting .h3,
    .markdown-highlighting .h3 *,
    .markdown-highlighting .h4,
    .markdown-highlighting .h4 *,
    .markdown-highlighting .h5,
    .markdown-highlighting .h5 *,
    .markdown-highlighting .h6,
    .markdown-highlighting .h6 *,
    .markdown-highlighting .h11,
    .markdown-highlighting .h11 *,
    .markdown-highlighting .h22,
    .markdown-highlighting .h22 * {
        line-height: 1.33
    }

    .markdown-highlighting .h1,
    .markdown-highlighting .h11 {
        font-size: 2em
    }

    .markdown-highlighting .h2,
    .markdown-highlighting .h22 {
        font-size: 1.5em
    }

    .markdown-highlighting .h3 {
        font-size: 1.17em
    }

    .markdown-highlighting .h4 {
        font-size: 1em
    }

    .markdown-highlighting .h5 {
        font-size: .83em
    }

    .markdown-highlighting .h6 {
        font-size: .75em
    }

    .markdown-highlighting .cl-hash {
        color: var(--text-muted-color)
    }

    .markdown-highlighting .cl,
    .markdown-highlighting .hr {
        color: var(--text-muted-color);
        font-style: normal;
        font-weight: 400
    }

    .markdown-highlighting .em,
    .markdown-highlighting .em .cl {
        font-style: italic
    }

    .markdown-highlighting .strong,
    .markdown-highlighting .strong .cl,
    .markdown-highlighting .term {
        font-weight: 600
    }

    .markdown-highlighting .cl-del-text {
        text-decoration: line-through
    }

    .markdown-highlighting .cl-mark-text {
        background-color: #f8f840;
        color: #000
    }

    .markdown-highlighting .cl-underlined-text,
    .markdown-highlighting .email,
    .markdown-highlighting .url {
        text-decoration: underline
    }

    .markdown-highlighting .email,
    .markdown-highlighting .url {
        color: var(--text-muted-color)
    }

    .markdown-highlighting .fn,
    .markdown-highlighting .inlinefn,
    .markdown-highlighting .sup {
        font-size: smaller;
        position: relative;
        top: -.5em
    }

    .markdown-highlighting .sub {
        bottom: -.25em;
        font-size: smaller;
        position: relative
    }

    .markdown-highlighting .img,
    .markdown-highlighting .imgref,
    .markdown-highlighting .link,
    .markdown-highlighting .linkref {
        color: var(--text-muted-color);
    }

    .markdown-highlighting .img .cl-underlined-text,
    .markdown-highlighting .imgref .cl-underlined-text,
    .markdown-highlighting .link .cl-underlined-text,
    .markdown-highlighting .linkref .cl-underlined-text {
        color: var(--text-color)
    }

    .markdown-highlighting .cl-title {
        color: var(--text-color)
    }

    .markdown-highlighting--inline .cl-toc,
    .markdown-highlighting--inline .h1,
    .markdown-highlighting--inline .h2,
    .markdown-highlighting--inline .h3,
    .markdown-highlighting--inline .h4,
    .markdown-highlighting--inline .h5,
    .markdown-highlighting--inline .h6,
    .markdown-highlighting--inline .h11,
    .markdown-highlighting--inline .h22 {
        font-size: inherit
    }

    :focus {
        outline: none
    }

    input[type=checkbox] {
        outline: 5px auto #349be8
    }

    .flex {
        display: flex
    }

    .flex--row {
        flex-direction: row
    }

    .flex--column {
        flex-direction: column
    }

    .flex--center {
        justify-content: center
    }

    .flex--end {
        justify-content: flex-end
    }

    .flex--space-between {
        justify-content: space-between
    }

    .flex--align-center {
        align-items: center
    }

    .flex--align-end {
        align-items: flex-end
    }

    // Used for rendering mermaid diagrams in some capacity
    .hidden-rendering-container {
        position: absolute;
        width: 500px;
        left: -1000px
    }

    .toc__inner {
        position: relative;
        color: rgba(0, 0, 0, .67);
        cursor: pointer;
        font-size: 9px;
        padding: 10px 20px 40px;
        white-space: nowrap;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none
    }

    .toc__inner * {
        font-weight: inherit;
        pointer-events: none
    }

    .toc__inner .cl-toc-section h1:after,
    .toc__inner .cl-toc-section h2:after {
        display: none
    }

    .toc__inner .cl-toc-section h1 {
        margin: 1rem 0
    }

    .toc__inner .cl-toc-section h2 {
        margin: .5rem 0;
        margin-left: 8px
    }

    .toc__inner .cl-toc-section h3 {
        margin: .33rem 0;
        margin-left: 16px
    }

    .toc__inner .cl-toc-section h4 {
        margin: .22rem 0;
        margin-left: 24px
    }

    .toc__inner .cl-toc-section h5 {
        margin: .11rem 0;
        margin-left: 32px
    }

    .toc__inner .cl-toc-section h6 {
        margin: 0;
        margin-left: 40px
    }

    .toc__mask {
        position: absolute;
        left: 0;
        width: 100%;
        height: 35px;
        background-color: hsla(0, 0%, 100%, .2);
        pointer-events: none
    }

    .editor {
        position: absolute;
        width: 100%;
        height: 100%;
        overflow: auto;
        scroll-behavior: smooth;
    }

    .editor__inner {
        margin: 0;
        white-space: pre-wrap;
        word-break: break-word;
        word-wrap: break-word;
        scroll-behavior: smooth;
    }

    .editor__inner * {
        line-height: 1.67
    }

    .editor__inner .cledit-section {
        font-family: inherit
    }

    .editor__inner .hide {
        display: none
    }


    .preview,
    .preview__inner-1 {
        position: absolute;
        width: 100%;
        height: 100%
    }

    .preview__inner-1 {
        overflow: auto;
        scroll-behavior: smooth;
    }

    .preview__inner-2 {
        margin: 0
    }

    .preview__inner-2>:first-child>:first-child {
        margin-top: 0
    }

    .preview__corner {
        position: absolute;
        top: 0;
        right: 0
    }


    .layout {
        position: absolute;
        width: 100%;
        height: 100%
    }

    .layout__panel {
        position: relative;
        width: 100%;
        height: 100%;
        flex: none;
        overflow: hidden
    }

    .layout__panel--navigation-bar {
        background-color: var(--stackedit-toolbar-background-color, #2c2c2c);
        color: var(--stackedit-toolbar-background-color, #efefef);
        flex: 0 0 44px;
    }

    .layout__panel--status-bar {
        background-color: #007acc;
        flex: 0 0 20px;
    }
}
